{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6d6ec0b222fefc828c00","webpack:///./src/chromosome.js","webpack:///./src/population.js","webpack:///./src/functions.js","webpack:///./src/algorithm.js"],"names":["constructor","values","clone","cloned","Object","size","get","set","swap","move","min","max","value","fitness","ChromosomeClass","update","functions","individuals","Individual","add","full","exists","i","individual","select","getBest","objective","Infinity","sort","left","right","removeWorstFittest","numberIndividuals","bestIndividual","before","beforeEach","mutation","crossover","leftParent","rightParent","afterEach","after","seed","RandomNumber","j","S","k","key","random","Math","mutationProbability","crossoverProbability","geneticAlgorithm","evolve","next","hasNext","stop","hasStopped"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"jsevolution\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jsevolution\"] = factory();\n\telse\n\t\troot[\"jsevolution\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6d6ec0b222fefc828c00","export class Chromosome {\n  static create(values, min, max) {\n    return new Chromosome(values, min, max);\n  }\n  constructor(values, min, max) {\n    this.values = new Array(values.length);\n    this.min = min;\n    this.max = max;\n    values.forEach((value, index) => {\n      this.set(index, value);\n    });\n  }\n  clone() {\n    const cloned = Object.assign(Object.create(this), this);\n    cloned.values = [...this.values];\n    return cloned;\n  }\n  size() {\n    return this.values.length;\n  }\n  get(index) {\n    return this.values[index];\n  }\n  set(index, value) {\n    this.values[index] = value;\n  }\n  swap(leftIndex, rightIndex) {\n    [this.values[leftIndex], this.values[rightIndex]] =\n      [this.values[rightIndex], this.values[leftIndex]];\n  }\n  move(fromIndex, toIndex) {\n    this.values.splice(toIndex, 0, ...this.values.splice(fromIndex, 1));\n  }\n}\n\nexport class IntegerChromosome extends Chromosome {\n  static create(values, min, max) {\n    return new IntegerChromosome(values, min, max);\n  }\n  constructor(values, min = -Infinity, max = Infinity) {\n    super(values, min, max);\n  }\n  set(index, value) {\n    if (value >= this.min && value <= this.max) {\n      this.values[index] = value;\n    } else {\n      throw new TypeError();\n    }\n  }\n}\n\nexport class BitChromosome extends IntegerChromosome {\n  static create(values) {\n    return new BitChromosome(values);\n  }\n  constructor(values) {\n    super(values, 0, 1);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/chromosome.js","export class Individual {\n  static create(ChromosomeClass, values, fitness = Infinity, objective = fitness) {\n    return new Individual(ChromosomeClass.create(values), fitness, objective);\n  }\n  constructor(chromosome, fitness, objective) {\n    this.chromosome = chromosome;\n    this.fitness = fitness;\n    this.objective = objective;\n  }\n  clone() {\n    const cloned = Object.assign(Object.create(this), this);\n    cloned.chromosome = this.chromosome.clone();\n    return cloned;\n  }\n  update(functions) {\n    this.fitness = functions.fitness(this);\n    this.objective = functions.objective(this);\n  }\n}\n\nexport class Population {\n  static create(size, ChromosomeClass, individuals) {\n    return new Population(size, ChromosomeClass, individuals);\n  }\n  constructor(size, ChromosomeClass, individuals) {\n    this.individuals = [];\n    individuals.forEach((values) => {\n      this.individuals.push(Individual.create(ChromosomeClass, values));\n    });\n    this.selection = 0;\n    this.size = size;\n  }\n  add(individual) {\n    if (!this.exists(individual)) {\n      if (this.full()) {\n        this.removeWorstFittest();\n      }\n      if (!this.full()) {\n        this.individuals.push(individual);\n      }\n    }\n  }\n  full() {\n    return this.individuals.length === this.size;\n  }\n  exists(individual) {\n    const individuals = [];\n    this.individuals.forEach((i) => {\n      individuals.push(i.chromosome.values.toString());\n    });\n    return individuals.includes(individual.chromosome.values.toString());\n  }\n  select() {\n    const individual = this.individuals[this.selection];\n    this.selection = (this.selection + 1) % this.individuals.length;\n    return individual;\n  }\n  getBest() {\n    let individual = {\n      objective: Infinity,\n    };\n    this.individuals.forEach((i) => {\n      if (i.objective < individual.objective) {\n        individual = i;\n      }\n    });\n    return individual;\n  }\n  sort() {\n    this.individuals.sort((left, right) => {\n      if (left.fitness < right.fitness) {\n        return -1;\n      } else if (left.fitness > right.fitness) {\n        return 1;\n      }\n      return 0;\n    });\n  }\n  removeWorstFittest(numberIndividuals = 1) {\n    this.sort();\n    const bestIndividual = this.getBest();\n    let i = numberIndividuals;\n    while (i > 0 && this.individuals.length > 2) {\n      const individual = [].concat(this.individuals).pop();\n      this.individuals = this.individuals.slice(0, -1);\n      if (individual === bestIndividual) {\n        this.individuals = [individual].concat(this.individuals);\n      } else {\n        i -= 1;\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/population.js","export class DefaultFunctions {\n  before() {\n  }\n  beforeEach() {\n  }\n  fitness() {\n    return Infinity;\n  }\n  objective(individual) {\n    return this.fitness(individual);\n  }\n  mutation(individual) {\n    return individual.clone();\n  }\n  crossover(leftParent, rightParent) {\n    if (leftParent.fitness < rightParent.fitness) {\n      return leftParent.clone();\n    }\n    return rightParent.clone();\n  }\n  afterEach() {\n  }\n  after() {\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/functions.js","export class RandomNumber {\n  static init(seed = 0) {\n    RandomNumber.i = 0;\n    RandomNumber.j = 0;\n    RandomNumber.keystream = RandomNumber.keyStream(`${seed}`);\n  }\n  static keyStream(key) {\n    const S = [];\n    let j = 0;\n    for (let i = 0; i < 256; i += 1) {\n      S[i] = i;\n    }\n    for (let k = 0; k < 256; k += 1) {\n      j = (j + S[k] + key[k % key.length].charCodeAt(0)) % 256;\n      const swap = S[k];\n      S[k] = S[j];\n      S[j] = swap;\n    }\n    return S;\n  }\n  static randomByte() {\n    RandomNumber.i = (RandomNumber.i + 1) % 256;\n    RandomNumber.j = (RandomNumber.j + RandomNumber.keystream[RandomNumber.i]) % 256;\n    const swap = RandomNumber.keystream[RandomNumber.i];\n    RandomNumber.keystream[RandomNumber.i] = RandomNumber.keystream[RandomNumber.j];\n    RandomNumber.keystream[RandomNumber.j] = swap;\n    return RandomNumber.keystream[\n      (RandomNumber.keystream[RandomNumber.i] + RandomNumber.keystream[RandomNumber.j]) % 256\n    ];\n  }\n  static get() {\n    if (!RandomNumber.keystream) {\n      RandomNumber.init('seed');\n    }\n    const random = (\n      (RandomNumber.randomByte()) +\n      (RandomNumber.randomByte() * 256) +\n      (RandomNumber.randomByte() * 65536) +\n      (RandomNumber.randomByte() * 16777216) +\n      (RandomNumber.randomByte() * 4294967296) +\n      (RandomNumber.randomByte() * 1099511627776) +\n      (RandomNumber.randomByte() * 281474976710656) +\n      (RandomNumber.randomByte() * 72057594037927940)\n    ) / 18446744073709551616;\n    return random;\n  }\n  static getInteger(max) {\n    return Math.floor(RandomNumber.get() * max);\n  }\n}\n\nexport class GeneticAlgorithm {\n  static run(\n    population, generations, Functions,\n    mutationProbability = 0.5, crossoverProbability = 0.5, seed = 0,\n  ) {\n    RandomNumber.init(seed);\n    const geneticAlgorithm = new GeneticAlgorithm(\n      population, Functions, generations,\n      mutationProbability, crossoverProbability, seed,\n    );\n    geneticAlgorithm.evolve();\n    return geneticAlgorithm;\n  }\n  constructor(population, generations, Functions, mutationProbability, crossoverProbability) {\n    this.iterations = 0;\n    this.stopped = false;\n    this.population = population;\n    this.functions = new Functions();\n    this.population.individuals.forEach((i) => {\n      i.update(this.functions);\n    });\n    this.generations = generations;\n    this.mutationProbability = mutationProbability;\n    this.crossoverProbability = crossoverProbability;\n  }\n  evolve() {\n    this.functions.before(this);\n    while (this.hasNext() && !this.hasStopped()) {\n      this.functions.beforeEach(this);\n      this.next();\n      this.functions.afterEach(this);\n    }\n    this.functions.after(this);\n  }\n  next() {\n    if (this.iterations < this.generations) {\n      if (RandomNumber.get() < this.mutationProbability) {\n        this.mutation();\n      }\n      if (RandomNumber.get() < this.crossoverProbability) {\n        this.crossover();\n      }\n      this.iterations = this.iterations + 1;\n    }\n  }\n  hasNext() {\n    return this.iterations < this.generations;\n  }\n  stop() {\n    this.stopped = true;\n  }\n  hasStopped() {\n    return this.stopped;\n  }\n  mutation() {\n    const individual = this.functions.mutation(this.population.select());\n    individual.update(this.functions);\n    this.population.add(individual);\n  }\n  crossover() {\n    const individual = this.functions.crossover(this.population.select(), this.population.select());\n    individual.update(this.functions);\n    this.population.add(individual);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/algorithm.js"],"sourceRoot":""}